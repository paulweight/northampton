(function(c,k){var l=0;c.fn.getPercentage=function(){return this.attr("style").match(/margin\-left:(.*[0-9])/i)&&parseInt(RegExp.$1)};c.fn.adjRounding=function(j){var a=c(this),j=a.find(j),a=a.parent().width()-c(j[0]).width();if(0!==a){c(j).css("position","relative");for(var i=0;i<j.length;i++)c(j[i]).css("left",a*i+"px")}return this};c.fn.carousel=function(j){if(!this.data("carousel-initialized")){this.data("carousel-initialized",!0);var a=c.extend({slider:".slider",slide:".slide",prevSlide:null,
nextSlide:null,slideHed:null,addPagination:!1,addNav:j!=k&&(j.prevSlide||j.nextSlide)?!1:!0,namespace:"carousel",speed:300,rotate:!1,startSlide:1},j),i=this,f=document.body||document.documentElement,h={init:function(){l++;i.each(function(d){var b=c(this),e=b.find(a.slider),g=b.find(a.slide),n=g.length,m="margin-left "+a.speed/1E3+"s ease",f="carousel-"+l+"-"+d,i=1>a.startSlide?1:a.startSlide>n?n:parseInt(a.startSlide);1>=g.length||(b.css({overflow:"hidden",width:"100%"}).attr("role","application"),
e.attr("id",e[0].id||"carousel-"+l+"-"+d).css({marginLeft:-(100*(i-1))+"%","float":"left",width:100*n+"%","-webkit-transition":m,"-moz-transition":m,"-ms-transition":m,"-o-transition":m,transition:m}).bind("carouselmove",h.move).bind("nextprev",h.nextPrev).bind("navstate",h.navState),g.css({"float":"left",width:100/n+"%"}).each(function(d){var b=c(this);b.attr({role:"tabpanel document",id:f+"-slide"+d});a.addPagination&&b.attr("aria-labelledby",f+"-tab"+d)}),a.addPagination&&h.addPagination(),a.addNav&&
h.addNav(),e.trigger("navstate",{current:-(100*(i-1))}))})},addNav:function(){i.each(function(){var d=c(this),b=d.find(a.slider),e=d.find(a.slide).length,e=1>a.startSlide?1:a.startSlide>e?e:parseInt(a.startSlide),b=b[e-1].id,b=['<ul class="slidecontrols" role="navigation">','\t<li role="presentation"><a href="#'+b+'" class="'+a.namespace+'-next">Next</a></li>','\t<li role="presentation"><a href="#'+b+'" class="'+a.namespace+'-prev">Prev</a></li>',"</ul>"].join("");a=c.extend(a,{nextSlide:"."+a.namespace+
"-next",prevSlide:"."+a.namespace+"-prev"});d.prepend(b)})},addPagination:function(){i.each(function(d){var b=c(this),e=c('<ol class="'+a.namespace+'-tabs" role="tablist navigation" />');b.find(a.slider);var g=b.find(a.slide);slideNum=g.length;for(associated="carousel-"+l+"-"+d;slideNum--;)d=c(g[slideNum]).find(a.slideHed).text()||"Page "+(slideNum+1),d=['<li role="presentation">','<a href="#'+associated+"-slide"+slideNum+'"',' aria-controls="'+associated+"-slide"+slideNum+'"',' id="'+associated+
"-tab"+slideNum+'" role="tab">'+d+"</a>","</li>"].join(""),e.prepend(d);e.appendTo(b).find("li").keydown(function(a){var d=c(this),b=d.prev().find("a"),d=d.next().find("a");switch(a.which){case 37:case 38:b.length&&b.trigger("click").focus();a.preventDefault();break;case 39:case 40:d.length&&d.trigger("click").focus(),a.preventDefault()}}).find("a").click(function(d){var g=c(this);"false"==g.attr("aria-selected")&&(g=-(100*g.parent().index()),b.find(a.slider).trigger("carouselmove",{moveTo:g}));d.preventDefault()})})},
roundDown:function(a){a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)},navState:function(d,b){var e=c(this),g=e.find(a.slide),h=-(b.current/100),f=c(g[h]);e.attr("aria-activedescendant",f[0].id);f.addClass(a.namespace+"-active-slide").attr("aria-hidden",!1).siblings().removeClass(a.namespace+"-active-slide").attr("aria-hidden",!0);if(a.prevSlide||a.nextSlide)e=c('[href*="#'+this.id+'"]'),e.removeClass(a.namespace+"-disabled"),0==h?e.filter(a.prevSlide).addClass(a.namespace+"-disabled"):h==g.length-
1&&e.filter(a.nextSlide).addClass(a.namespace+"-disabled");a.addPagination&&(g=f.attr("aria-labelledby"),g=c("#"+g),g.parent().addClass(a.namespace+"-active-tab").siblings().removeClass(a.namespace+"-active-tab").find("a").attr({"aria-selected":!1,tabindex:-1}),g.attr({"aria-selected":!0,tabindex:0}))},move:function(d,b){var e=c(this);e.trigger(a.namespace+"-beforemove").trigger("navstate",{current:b.moveTo});f.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");
if(f.style.transition||f.style.webkitTransition||f.style.msTransition||f.style.OTransition||f.style.MozTransition)e.adjRounding(a.slide).css("marginLeft",b.moveTo+"%").one("transitionend webkitTransitionEnd OTransitionEnd",function(){c(this).trigger(a.namespace+"-aftermove")});else e.adjRounding(a.slide).animate({marginLeft:b.moveTo+"%"},{duration:a.speed,queue:!1},function(){c(this).trigger(a.namespace+"-aftermove")})},nextPrev:function(d,b){var e=c(this),g=e?e.getPercentage():0,f=e.find(a.slide),
i="prev"===b.dir?0!=g:-g<100*(f.length-1),f=100*-(f.length-1),j=c('[href="#'+this.id+'"]');if(!e.is(":animated")&&i)switch(g="prev"===b.dir?0!=g%100?h.roundDown(g):g+100:0!=g%100?h.roundDown(g)-100:g-100,e.trigger("carouselmove",{moveTo:g}),j.removeClass(a.namespace+"-disabled").removeAttr("aria-disabled"),g){case f:j.filter(a.nextSlide).addClass(a.namespace+"-disabled").attr("aria-disabled",!0);break;case 0:j.filter(a.prevSlide).addClass(a.namespace+"-disabled").attr("aria-disabled",!0)}else g=a.rotate&&
"next"===b.dir?0:a.rotate&&"prev"===b.dir?f:h.roundDown(g),e.trigger("carouselmove",{moveTo:g})}};h.init(this);c(a.nextSlide+","+a.prevSlide).bind("click",function(d){var b=c(this),e=this.hash,g=b.is(a.prevSlide)?"prev":"next",e=c(e);if(b.is("."+a.namespace+"-disabled"))return!1;e.trigger("nextprev",{dir:g});d.preventDefault()}).bind("keydown",function(a){c(this);var b=this.hash;switch(a.which){case 37:case 38:c("#"+b).trigger("nextprev",{dir:"next"});a.preventDefault();break;case 39:case 40:c("#"+
b).trigger("nextprev",{dir:"prev"}),a.preventDefault()}});i.bind("dragSnap",{wrap:this,slider:a.slider},function(d,b){c(this).find(a.slider).trigger("nextprev",{dir:"left"===b.direction?"next":"prev"})});i.filter("[data-autorotate]").each(function(){var d,b=c(this),e=b.attr("data-autorotate"),g=b.find(a.slide).length,f=b.find(a.slider),h=function(){clearInterval(d);d=setInterval(function(){i();f.trigger("nextprev",{dir:"next"})},e)},i=function(){if(a.rotate)h();else switch(-(c(a.slider).getPercentage()/
100)+1){case g:clearInterval(d);d=setInterval(function(){i();f.trigger("nextprev",{dir:"prev"})},e);break;default:h()}};d=setInterval(i,e);b.attr("aria-live","polite").bind("mouseenter click touchstart",function(){clearInterval(d)});b.attr("aria-live","polite").bind("mouseleave",function(){d=setInterval(i,e)})});return this}}})(jQuery);
$.event.special.dragSnap={setup:function(c){var k=$(this),l=function(a,c){var f=c?"margin-left 0.3s ease":"none";a.css({"-webkit-transition":f,"-moz-transition":f,"-ms-transition":f,"-o-transition":f,transition:f})},j=function(a){a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)};k.bind("snapback",function(a,c){var f=c.target,h=void 0!=f.attr("style")?f.getPercentage():0,h=!1===c.left?j(h)-100:j(h),d=document.body;l(f,!0);d.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");
d.style.transition||d.style.webkitTransition||d.style.MozTransition?f.css("marginLeft",h+"%"):f.animate({marginLeft:h+"%"},opt.speed)}).bind("touchstart",function(a){function i(a){var c=a.originalEvent.touches?a.originalEvent.touches[0]:a;d={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};deltaX=Math.abs(h.coords[0]-c.pageX);deltaY=Math.abs(h.coords[1]-c.pageY);left=e+100*((d.coords[0]-h.coords[0])/h.origin.width());if(h&&!(15>deltaX||0>=e&&0<left)&&15<=deltaX)h.interacting=!0,b.css({"margin-left":left+
"%"}),a.preventDefault()}var f=a.originalEvent.touches?a.originalEvent.touches[0]:a,h={time:(new Date).getTime(),coords:[f.pageX,f.pageY],origin:$(a.target).closest(c.wrap),interacting:!1},d,b=$(a.target).closest(c.slider),e=void 0!=b.attr("style")?b.getPercentage():0;l(b,!1);k.bind("gesturestart",function(){k.unbind("touchmove",i).unbind("touchend",i)}).bind("touchmove",i).one("touchend",function(a){k.unbind("touchmove",i);l(b,!0);if(h&&d){var c=Math.abs(h.coords[0]-d.coords[0]),e=Math.abs(h.coords[1]-
d.coords[1]),f=h.coords[0]>d.coords[0];if(20<c&&c>e)a.preventDefault();else{h.interacting&&k.trigger("snapback",{target:b,left:f});return}a=h.origin.width()/4;-c>a||c>a?h.origin.trigger("dragSnap",{direction:f?"left":"right"}):k.trigger("snapback",{target:b,left:f})}h=d=void 0})})}};$(document).ready(function(){$(".slidewrap").carousel({slider:".slider",slide:".slide",slideHed:".slidehed",nextSlide:".next",prevSlide:".prev",addPagination:!0,addNav:!1,speed:600,rotate:!0,startSlide:1})});