(function(c,l){var m=0;c.fn.getPercentage=function(){return this.attr("style").match(/margin\-left:(.*[0-9])/i)&&parseInt(RegExp.$1)};c.fn.adjRounding=function(k){var a=c(this),k=a.find(k),a=a.parent().width()-k.eq(0).width();if(0!==a){c(k).css("position","relative");for(var j=0;j<k.length;j++)k.eq(j).css("left",a*j+"px")}return this};c.fn.carousel=function(k){if(!this.data("carousel-initialized")){this.data("carousel-initialized",!0);var a=c.extend({slider:".slider",slide:".slide",prevSlide:null,
nextSlide:null,slideHed:null,addPagination:!1,addNav:k!=l&&(k.prevSlide||k.nextSlide)?!1:!0,namespace:"carousel",speed:300,rotate:!1,startSlide:1,lazy:!1,lazyFadeDuration:300},k),j=this,f=document.body||document.documentElement,b=!1,i={init:function(){m++;j.each(function(g){var e=c(this),d=e.find(a.slider),h=e.find(a.slide),n=h.length,b="margin-left "+a.speed/1E3+"s ease",f="carousel-"+m+"-"+g,j=1>a.startSlide?1:a.startSlide>n?n:parseInt(a.startSlide);1>=h.length||(e.css({overflow:"hidden",width:"100%"}).attr("role",
"application"),d.attr("id",d[0].id||"carousel-"+m+"-"+g).css({marginLeft:-(100*(j-1))+"%","float":"left",width:100*n+"%","-webkit-transition":b,"-moz-transition":b,"-ms-transition":b,"-o-transition":b,transition:b}).bind("carouselmove",i.move).bind("nextprev",i.nextPrev).bind("navstate",i.navState).bind("loadimages",i.loadImages),h.css({"float":"left",width:100/n+"%"}).each(function(d){var g=c(this);g.attr({role:"tabpanel document",id:f+"-slide"+d});a.addPagination&&g.attr("aria-labelledby",f+"-tab"+
d)}),a.addPagination&&i.addPagination(),a.addNav&&i.addNav(),d.trigger("navstate",{current:-(100*(j-1))}),!1==a.lazy&&d.trigger("loadimages"))})},loadImages:function(){!0!=b&&($images=c(this).find(a.slide+" img"),$images.each(function(g){c(this).removeClass("lazy");title=c(this).attr("title");g!=a.startSlide-1&&"undefined"!==typeof title&&(c(this).hide(),img=title.replace("Image: ",""),c(this).removeAttr("title").attr("src",img).fadeIn(a.lazyFadeDuration))}),b=!0)},addNav:function(){j.each(function(){var g=
c(this),e=g.find(a.slider),d=g.find(a.slide).length,d=1>a.startSlide?1:a.startSlide>d?d:parseInt(a.startSlide),e=e[d-1].id,e=['<ul class="slidecontrols" role="navigation">','\t<li role="presentation"><a href="#'+e+'" class="'+a.namespace+'-next">Next</a></li>','\t<li role="presentation"><a href="#'+e+'" class="'+a.namespace+'-prev">Prev</a></li>',"</ul>"].join("");a=c.extend(a,{nextSlide:"."+a.namespace+"-next",prevSlide:"."+a.namespace+"-prev"});g.prepend(e)})},addPagination:function(){j.each(function(g){for(var e=
c(this),d=c('<ol class="'+a.namespace+'-tabs" role="tablist navigation" />'),h=e.find(a.slide),b=h.length,g="carousel-"+m+"-"+g;b--;){var f=h.eq(b).find(a.slideHed).text()||"Page "+(b+1),f=['<li role="presentation">','<a href="#'+g+"-slide"+b+'"',' aria-controls="'+g+"-slide"+b+'"',' id="'+g+"-tab"+b+'" role="tab">'+f+"</a>","</li>"].join("");d.prepend(f)}d.appendTo(e).find("li").keydown(function(a){var d=c(this),g=d.prev().find("a"),d=d.next().find("a");switch(a.which){case 37:case 38:g.length&&
g.trigger("click").focus();a.preventDefault();break;case 39:case 40:d.length&&d.trigger("click").focus(),a.preventDefault()}}).find("a").click(function(d){var g=c(this);"false"==g.attr("aria-selected")&&(g=-(100*g.parent().index()),e.find(a.slider).trigger("carouselmove",{moveTo:g}));d.preventDefault()})})},roundDown:function(a){a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)},navState:function(g,e){var d=c(this),h=d.find(a.slide),b=-(e.current/100),f=h.eq(b);d.attr("aria-activedescendant",f[0].id);
f.addClass(a.namespace+"-active-slide").attr("aria-hidden",!1).siblings().removeClass(a.namespace+"-active-slide").attr("aria-hidden",!0);if(a.prevSlide||a.nextSlide)d=c('[href*="#'+this.id+'"]'),d.removeClass(a.namespace+"-disabled"),0==b?d.filter(a.prevSlide).addClass(a.namespace+"-disabled"):b==h.length-1&&d.filter(a.nextSlide).addClass(a.namespace+"-disabled");a.addPagination&&(h=f.attr("aria-labelledby"),h=c("#"+h),h.parent().addClass(a.namespace+"-active-tab").siblings().removeClass(a.namespace+
"-active-tab").find("a").attr({"aria-selected":!1,tabindex:-1}),h.attr({"aria-selected":!0,tabindex:0}))},move:function(g,e){var d=c(this);d.trigger("loadimages").trigger(a.namespace+"-beforemove").trigger("navstate",{current:e.moveTo});f.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");if(f.style.transition||f.style.webkitTransition||f.style.msTransition||f.style.OTransition||f.style.MozTransition)d.adjRounding(a.slide).css("marginLeft",e.moveTo+
"%").one("transitionend webkitTransitionEnd OTransitionEnd",function(){c(this).trigger(a.namespace+"-aftermove")});else d.adjRounding(a.slide).animate({marginLeft:e.moveTo+"%"},{duration:a.speed,queue:!1},function(){c(this).trigger(a.namespace+"-aftermove")})},nextPrev:function(g,e){var d=c(this),h=d?d.getPercentage():0,b=d.find(a.slide),f="prev"===e.dir?0!=h:-h<100*(b.length-1),b=100*-(b.length-1),j=c('[href="#'+this.id+'"]');if(!d.is(":animated")&&f)switch(h="prev"===e.dir?0!=h%100?i.roundDown(h):
h+100:0!=h%100?i.roundDown(h)-100:h-100,d.trigger("carouselmove",{moveTo:h}),j.removeClass(a.namespace+"-disabled").removeAttr("aria-disabled"),h){case b:j.filter(a.nextSlide).addClass(a.namespace+"-disabled").attr("aria-disabled",!0);break;case 0:j.filter(a.prevSlide).addClass(a.namespace+"-disabled").attr("aria-disabled",!0)}else h=a.rotate&&"next"===e.dir?0:a.rotate&&"prev"===e.dir?b:i.roundDown(h),d.trigger("carouselmove",{moveTo:h})}};i.init(this);c(a.nextSlide+","+a.prevSlide).bind("click",
function(g){var b=c(this),d=this.hash,h=b.is(a.prevSlide)?"prev":"next",d=c(d);if(b.is("."+a.namespace+"-disabled"))return!1;d.trigger("nextprev",{dir:h});g.preventDefault()}).bind("keydown",function(a){var b=this.hash;switch(a.which){case 37:case 38:c("#"+b).trigger("nextprev",{dir:"next"});a.preventDefault();break;case 39:case 40:c("#"+b).trigger("nextprev",{dir:"prev"}),a.preventDefault()}});j.bind("dragSnap",{wrap:this,slider:a.slider},function(b,e){c(this).find(a.slider).trigger("nextprev",{dir:"left"===
e.direction?"next":"prev"})});j.filter("[data-autorotate]").each(function(){var b,e=c(this),d=e.attr("data-autorotate"),h=e.find(a.slide).length,f=e.find(a.slider),j=function(){clearInterval(b);b=setInterval(function(){i();f.trigger("nextprev",{dir:"next"})},d)},i=function(){if(a.rotate)j();else switch(-(c(a.slider).getPercentage()/100)+1){case h:clearInterval(b);b=setInterval(function(){i();f.trigger("nextprev",{dir:"prev"})},d);break;default:j()}};b=setInterval(i,d);e.attr("aria-live","polite").bind("mouseenter click touchstart",
function(){clearInterval(b)});e.attr("aria-live","polite").bind("mouseleave",function(){b=setInterval(i,d)})});return this}}})(jQuery);
$.event.special.dragSnap={setup:function(c){var l=$(this),m=function(a,c){var f=c?"margin-left 0.3s ease":"none";a.css({"-webkit-transition":f,"-moz-transition":f,"-ms-transition":f,"-o-transition":f,transition:f})},k=function(a){a=parseInt(a,10);return 100*Math.ceil((a-a%100)/100)};l.bind("snapback",function(a,c){var f=c.target,b=void 0!=f.attr("style")?f.getPercentage():0,b=!1===c.left?k(b)-100:k(b),i=document.body;m(f,!0);i.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;");
i.style.transition||i.style.webkitTransition||i.style.MozTransition?f.css("marginLeft",b+"%"):f.animate({marginLeft:b+"%"},opt.speed)}).bind("touchstart",function(a){function j(a){var c=a.originalEvent.touches?a.originalEvent.touches[0]:a;i={time:(new Date).getTime(),coords:[c.pageX,c.pageY]};deltaX=Math.abs(b.coords[0]-c.pageX);deltaY=Math.abs(b.coords[1]-c.pageY);left=e+100*((i.coords[0]-b.coords[0])/b.origin.width());if(b&&!(15>deltaX||0>=e&&0<left))g.trigger("loadimages"),15<=deltaX&&(b.interacting=
!0,g.css({"margin-left":left+"%"}),a.preventDefault())}var f=a.originalEvent.touches?a.originalEvent.touches[0]:a,b={time:(new Date).getTime(),coords:[f.pageX,f.pageY],origin:$(a.target).closest(c.wrap),interacting:!1},i,g=$(a.target).closest(c.slider),e=void 0!=g.attr("style")?g.getPercentage():0;m(g,!1);l.bind("gesturestart",function(){l.unbind("touchmove",j).unbind("touchend",j)}).bind("touchmove",j).one("touchend",function(a){l.unbind("touchmove",j);m(g,!0);if(b&&i){var c=Math.abs(b.coords[0]-
i.coords[0]),f=Math.abs(b.coords[1]-i.coords[1]),e=b.coords[0]>i.coords[0];if(20<c&&c>f)a.preventDefault();else{b.interacting&&l.trigger("snapback",{target:g,left:e});return}a=b.origin.width()/4;-c>a||c>a?b.origin.trigger("dragSnap",{direction:e?"left":"right"}):l.trigger("snapback",{target:g,left:e})}b=i=void 0})})}};
$(document).ready(function(){$(".slidewrap").carousel({slider:".slider",slide:".slide",slideHed:".slidehed",nextSlide:".next",prevSlide:".prev",addPagination:!0,addNav:!1,speed:600,rotate:!0,startSlide:1,lazy:!0,lazyFadeDuration:100})});